# ImpossibleFox

**[ENGLISH README](https://github.com/Naezr/ImpossibleFox/blob/main/README-alt.md)**

--------

Описание будет дополняться и изменяться ещё много раз

**Простая и быстрая однострочная тема в ванильной стилистике Firefox, максимально приближенная к так называемому "компактому режиму" браузера Safari**

![wordart](https://github.com/Naezr/ImpossibleFox/assets/95460152/41d28042-f758-464f-9493-6fc1d04a0a98)



# Особенности
 - Так как реализовать адресную строку, встроенную внутрь вкладки на одном лишь css невозможно, тут применяется [fx-autoconfig](https://github.com/MrOtherGuy/fx-autoconfig) для внедрения javascript кода.
 - Я только начал изучать javascript, и не полностью понимаю код, который я скопировал с [треда](https://www.reddit.com/r/FirefoxCSS/comments/nv1lb6/url_on_the_tab_like_the_new_safari/) на Reddit, а потому пока что не могу пофиксить некоторые баги.
 - Поисковые предложения ( подсказки, основанные на запросе, введённом на новой вкладке ) не поддерживаются. Возможно, что их можно как-то прикрутить с помощью javascript, но я ещё не настолько крут, чтобы это реализовать.



# Фишки
- ***Однострочность***  
   Все элементы управления браузером находятся в одной строке, что позволяет сэкономить кучу вертикального пространства и отдать его под сайты.
  
   ![изображение](https://github.com/Naezr/ImpossibleFox/assets/95460152/7edee538-caad-4d96-bf42-9f0f3b99a161)

- ***Многострочность***  
   Как бы это противоречиво не звучало, но эта тема одновременно однострочная и многострочная. Потому что если вы откроете много вкладок или наделаете много закладок, то они распределятся по нескольким строкам.
  
   ![изображение](https://github.com/Naezr/ImpossibleFox/assets/95460152/5db4a487-700c-48c7-a56a-da950e311ac2)


- ***Адресная строка***  
   Адресная строка встроена прямо в активную вкладку. Это настолько невероятная фича, что кроме какого-то чела с реддита никто не смог качественно её реализовать и сделать на её основе тему. Спасибо челу с реддита.
  
   ![изображение](https://github.com/Naezr/ImpossibleFox/assets/95460152/7e92e8ad-83d1-41e4-99f9-1c24b9da7c75)

- ***Компактность***  
   Максимум пространства единственной строки интерфейса браузера отдано под самое важное - вкладки. А адресная строка встроена в активную вкладку и вообще не отбирает столь ценное пространство.

- ***Режим узкого окна***  
   Если ширина окна будет слишком маленькой, то вклаки пропадут и появится кнопка с их списком.

   ![ia4OF3kXPM](https://github.com/Naezr/ImpossibleFox/assets/95460152/84af4c6a-0ed0-42c4-837c-19a73d47764c)


- ***Ванильность***  
   Тема лишь грамотно двигает кнопочки, не затрагивая основной дизайн-код браузера.

- ***Настраиваемость и открытость***  
   При желании вы можете как угодно редактировать код темы, самостоятельно двигать кнопочки, и предлагать новые идеи и исправления.



# Установка

Для начала вам понадобится установить [fx-autoconfig](https://github.com/MrOtherGuy/fx-autoconfig). Инструкции по установке вы найдёте на странице проэкта.

После этого перейдите на страницу `about:config` в вашем браузере и измените следующие параметры:
 - `toolkit.legacyUserProfileCustomizations.stylesheets` => `True`
 - `browser.urlbar.maxRichResults` => `0`

Не забудьте нажать галочку при изменении числового значения и перезапустите браузер.

Далее [скачайте](https://github.com/Naezr/ImpossibleFox/releases) последнюю версию *НевозможноЛиса* и скопируйте файлы из архива в папку `chrome` своего профиля.

После этого вы можете настроить расположение кнопок, например вот так:

![изображение](https://github.com/Naezr/ImpossibleFox/assets/95460152/c7863a53-24bb-4734-ab36-75ee3f4f92f6)

Не оставляйте на панели навигации ( она самая нижняя ) и в расширенном меню никаких кнопок, этой панели всё равно не видно. Кнопки "назад", "вперёд", "расширения" и "меню" заскриптованы, так что как бы вы их не дёргали, при перезапуске браузера они вернутся на место.



# Настройка
Если вы не хотите, чтобы вкладки находились по центру, то можно это убрать, удалив выделенный код в файле `userChrome.css`:

![изображение](https://github.com/Naezr/ImpossibleFox/assets/95460152/883ed4a7-79b1-4acf-9436-23234b845262)

Если вам очень хочется подвигать заскриптованные кнопки, то можно отредактировать скрипт `buttons.uc.js`. Нас интересует выделенная часть кода:
 
![изображение](https://github.com/Naezr/ImpossibleFox/assets/95460152/f766e1c3-cd85-440d-9242-30c469ffe59e)

Разберём всё по порядку. Сначала кнопка "назад" помещается слева, а кнопка "вперёд" после неё. Потом кнопка "расширения" помещается справа, а после неё "меню". Синтаксис такой: `ext.after(menu);`, то есть берём кнопку "расширения", а после неё ставим кнопку "меню".

Вимание! После редактирования любых скриптов надо очистить папку `startupCache` в папке профиля, иначе изменения проигнорируются и из кеша загрузится старый скрипт без ваших изменений.

# Дополнения

Для пущей стильности вы можете использовать расширение [Adaptive Tab Bar Colour](https://addons.mozilla.org/ru/firefox/addon/adaptive-tab-bar-colour/)
Чтобы всё выглядело чётко поставьте такие настройки:

![изображение](https://github.com/Naezr/ImpossibleFox/assets/95460152/fc4df401-6795-4440-9112-5018f3378389)




# Известные баги

 - Если вы захотите подвигать курсор в адресной строке с помощью стрелочек на клавиатуре, то вместо ожидаемого результата, вы переключитесь на соседнюю вкладку. Звучит как бред, но просто попробуйте нажать мышкой на URL, а потом на стрелочки на клавиатуре. Я вообще не представляю как это фиксить, единственное, что я сумел выяснить, так это то, что проблема кроется в скрипте `url.uc.js`.

 - Пустая полоска навигации всё ещё видна на новой вкладке и отбрасывает уродскую тень. Тень пропадает при установке расширения Adaptive Tab Bar Colour, так что можно пофиксить с помощью css, но я не разобрался как.
 - Если вы создадите новою вкладку и ничего в ней не сделаете, то адресная строка будет показываться постоянно. Можно просто нажать сначала на неё, а потом на пустое пространство, чтобы всё вернулось на свои места. Это больше похоже не на баг, а на стандартный функционал браузера, который оказался неудобен в этом контексте.


----------



# Благодарность
 - [MrOtherGuy](https://github.com/MrOtherGuy)   За fx-autoconfig и репозиторий с прикольными css'ками.  
 - [Firefox-Alpha](https://github.com/Tagggar/Firefox-Alpha)   Этот проэкт вдохновил меня на создание этой темы. Там адресная строка тоже втроена во вкладку, но менее удобно.  
 - [Чел с реддита](https://www.reddit.com/r/FirefoxCSS/comments/nv1lb6/url_on_the_tab_like_the_new_safari/)   Без его кода на javascript ничего бы не получилось.  
